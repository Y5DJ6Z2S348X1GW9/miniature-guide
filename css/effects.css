/* 动画特效样式 - effects.css */

/* 关键帧动画定义 */
@keyframes titlePulse {
    0%, 100% { 
        transform: scale(1);
        text-shadow: 
            0 0 20px rgba(100, 181, 246, 0.8),
            0 0 40px rgba(100, 181, 246, 0.4);
    }
    50% { 
        transform: scale(1.05);
        text-shadow: 
            0 0 30px rgba(100, 181, 246, 1),
            0 0 60px rgba(100, 181, 246, 0.6);
    }
}

@keyframes subtitleGlow {
    0% { 
        text-shadow: 0 0 10px rgba(144, 202, 249, 0.6);
        opacity: 0.8;
    }
    100% { 
        text-shadow: 0 0 20px rgba(144, 202, 249, 1);
        opacity: 1;
    }
}

@keyframes titleSweep {
    0% { transform: translateX(-100%) rotate(45deg); }
    100% { transform: translateX(100vw) rotate(45deg); }
}

@keyframes floatingStars {
    0% { 
        transform: translateY(100vh) translateX(0px) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% { 
        transform: translateY(-100px) translateX(50px) rotate(360deg);
        opacity: 0;
    }
}

@keyframes loadingFloat {
    0%, 100% { 
        transform: translateY(0px) rotate(0deg);
    }
    50% { 
        transform: translateY(-20px) rotate(10deg);
    }
}

@keyframes loadingProgress {
    0% { width: 0%; }
    20% { width: 15%; }
    40% { width: 45%; }
    60% { width: 70%; }
    80% { width: 85%; }
    100% { width: 100%; }
}

@keyframes achievementSlideIn {
    0% {
        transform: translateX(100%);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes waveInfoSlideIn {
    0% {
        transform: translate(-50%, -50%) scale(0.8);
        opacity: 0;
    }
    100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
}

@keyframes damageFloat {
    0% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
    100% {
        transform: translateY(-50px) scale(1.5);
        opacity: 0;
    }
}

@keyframes notificationSlideIn {
    0% {
        transform: translateX(100%);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes explosionPulse {
    0% {
        transform: scale(0.5);
        opacity: 1;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
    }
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

@keyframes shieldPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.3;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.7;
    }
}

@keyframes powerupGlow {
    0%, 100% {
        filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        transform: scale(1) rotate(0deg);
    }
    50% {
        filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.8));
        transform: scale(1.1) rotate(180deg);
    }
}

@keyframes engineFlame {
    0%, 100% {
        transform: scaleY(1) scaleX(1);
        opacity: 0.8;
    }
    25% {
        transform: scaleY(1.3) scaleX(0.8);
        opacity: 1;
    }
    50% {
        transform: scaleY(0.7) scaleX(1.2);
        opacity: 0.9;
    }
    75% {
        transform: scaleY(1.1) scaleX(0.9);
        opacity: 0.7;
    }
}

@keyframes bulletTrail {
    0% {
        box-shadow: 0 0 5px rgba(100, 181, 246, 0.8);
    }
    100% {
        box-shadow: 0 0 15px rgba(100, 181, 246, 1);
    }
}

@keyframes enemySpawn {
    0% {
        transform: scale(0) rotate(0deg);
        opacity: 0;
    }
    50% {
        transform: scale(1.2) rotate(180deg);
        opacity: 0.8;
    }
    100% {
        transform: scale(1) rotate(360deg);
        opacity: 1;
    }
}

@keyframes bossWarning {
    0%, 100% {
        background-color: rgba(244, 67, 54, 0.1);
        box-shadow: inset 0 0 50px rgba(244, 67, 54, 0.3);
    }
    50% {
        background-color: rgba(244, 67, 54, 0.3);
        box-shadow: inset 0 0 100px rgba(244, 67, 54, 0.5);
    }
}

@keyframes healthLow {
    0%, 100% {
        filter: hue-rotate(0deg) brightness(1);
    }
    50% {
        filter: hue-rotate(10deg) brightness(1.2);
    }
}

@keyframes weaponCharge {
    0% {
        background: linear-gradient(90deg, #64b5f6, #42a5f5);
        box-shadow: 0 0 5px rgba(100, 181, 246, 0.5);
    }
    100% {
        background: linear-gradient(90deg, #fff, #64b5f6);
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
    }
}

@keyframes screenShake {
    0%, 100% { transform: translate(0, 0); }
    10% { transform: translate(-2px, -1px); }
    20% { transform: translate(2px, 1px); }
    30% { transform: translate(-1px, 2px); }
    40% { transform: translate(1px, -2px); }
    50% { transform: translate(-2px, 1px); }
    60% { transform: translate(2px, -1px); }
    70% { transform: translate(-1px, -2px); }
    80% { transform: translate(1px, 2px); }
    90% { transform: translate(-2px, -1px); }
}

@keyframes particleFloat {
    0% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
    100% {
        transform: translateY(-100px) scale(0.5);
        opacity: 0;
    }
}

@keyframes starTwinkle {
    0%, 100% {
        opacity: 0.3;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.2);
    }
}

@keyframes laserBeam {
    0% {
        opacity: 0;
        transform: scaleX(0);
    }
    50% {
        opacity: 1;
        transform: scaleX(1);
    }
    100% {
        opacity: 0;
        transform: scaleX(1);
    }
}

@keyframes criticalHit {
    0% {
        transform: scale(1);
        filter: hue-rotate(0deg);
    }
    25% {
        transform: scale(1.3);
        filter: hue-rotate(90deg);
    }
    50% {
        transform: scale(1.1);
        filter: hue-rotate(180deg);
    }
    75% {
        transform: scale(1.2);
        filter: hue-rotate(270deg);
    }
    100% {
        transform: scale(1);
        filter: hue-rotate(360deg);
    }
}

/* 粒子系统基础类 */
.particle {
    position: absolute;
    pointer-events: none;
    border-radius: 50%;
    animation: particleFloat 2s linear forwards;
}

.particle.star {
    background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 70%);
    animation: starTwinkle 1s ease-in-out infinite;
}

.particle.explosion {
    animation: explosionPulse 0.5s ease-out forwards;
}

.particle.spark {
    background: linear-gradient(45deg, #ffaa00, #ff6600);
    animation: particleFloat 1s ease-out forwards;
}

/* 特效叠加层 */
.effect-layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 20;
}

/* 屏幕震动效果 */
.screen-shake {
    animation: screenShake 0.5s ease-in-out;
}

/* 护盾效果 */
.shield-effect {
    position: absolute;
    border: 3px solid rgba(100, 181, 246, 0.6);
    border-radius: 50%;
    animation: shieldPulse 1s ease-in-out infinite;
    pointer-events: none;
}

/* Boss警告效果 */
.boss-warning {
    animation: bossWarning 1s ease-in-out infinite;
}

/* 生命值低警告 */
.health-low .health-bar {
    animation: healthLow 0.5s ease-in-out infinite;
}

/* 武器充能特效 */
.weapon-charging .cooldown-fill {
    animation: weaponCharge 0.3s ease-in-out infinite alternate;
}

/* 暴击特效 */
.critical-hit {
    animation: criticalHit 0.3s ease-out;
}

/* 道具闪烁 */
.powerup-item {
    animation: powerupGlow 2s ease-in-out infinite;
}

/* 引擎尾焰动画 */
.engine-flame {
    animation: engineFlame 0.2s ease-in-out infinite;
}

/* 子弹轨迹 */
.bullet-trail {
    animation: bulletTrail 0.1s ease-in-out infinite alternate;
}

/* 敌人出现动画 */
.enemy-spawn {
    animation: enemySpawn 0.5s ease-out;
}

/* 激光特效 */
.laser-effect {
    animation: laserBeam 0.3s ease-out;
}

/* 过渡效果 */
.fade-in {
    animation: fadeIn 0.5s ease-out;
}

.fade-out {
    animation: fadeOut 0.5s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

/* 滑入滑出效果 */
.slide-in-left {
    animation: slideInLeft 0.5s ease-out;
}

.slide-in-right {
    animation: slideInRight 0.5s ease-out;
}

.slide-out-left {
    animation: slideOutLeft 0.5s ease-out;
}

.slide-out-right {
    animation: slideOutRight 0.5s ease-out;
}

@keyframes slideInLeft {
    from { transform: translateX(-100%); }
    to { transform: translateX(0); }
}

@keyframes slideInRight {
    from { transform: translateX(100%); }
    to { transform: translateX(0); }
}

@keyframes slideOutLeft {
    from { transform: translateX(0); }
    to { transform: translateX(-100%); }
}

@keyframes slideOutRight {
    from { transform: translateX(0); }
    to { transform: translateX(100%); }
}

/* 缩放效果 */
.scale-in {
    animation: scaleIn 0.3s ease-out;
}

.scale-out {
    animation: scaleOut 0.3s ease-out;
}

@keyframes scaleIn {
    from { transform: scale(0); }
    to { transform: scale(1); }
}

@keyframes scaleOut {
    from { transform: scale(1); }
    to { transform: scale(0); }
}

/* 旋转效果 */
.rotate-in {
    animation: rotateIn 0.5s ease-out;
}

.rotate-out {
    animation: rotateOut 0.5s ease-out;
}

@keyframes rotateIn {
    from { 
        transform: rotate(-180deg) scale(0);
        opacity: 0;
    }
    to { 
        transform: rotate(0deg) scale(1);
        opacity: 1;
    }
}

@keyframes rotateOut {
    from { 
        transform: rotate(0deg) scale(1);
        opacity: 1;
    }
    to { 
        transform: rotate(180deg) scale(0);
        opacity: 0;
    }
}

/* 弹跳效果 */
.bounce-in {
    animation: bounceIn 0.6s ease-out;
}

@keyframes bounceIn {
    0% {
        transform: scale(0.3);
        opacity: 0;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    70% {
        transform: scale(0.9);
        opacity: 0.9;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* 脉冲效果 */
.pulse {
    animation: pulse 1s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.1);
        opacity: 0.7;
    }
}

/* 闪烁效果 */
.blink {
    animation: blink 0.5s ease-in-out infinite;
}

@keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

/* 彩虹效果 */
.rainbow {
    animation: rainbow 2s linear infinite;
}

@keyframes rainbow {
    0% { filter: hue-rotate(0deg); }
    100% { filter: hue-rotate(360deg); }
}

/* 性能优化的动画属性 */
.will-animate {
    will-change: transform, opacity, filter;
    backface-visibility: hidden;
    perspective: 1000px;
}

/* 减少动画（无障碍设置） */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .particle,
    .effect-layer,
    .floating-stars::before,
    .floating-stars::after {
        animation: none !important;
    }
}
